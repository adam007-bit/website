<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portal Pembelajaran Arduino</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 30px;
      background-color: #f4f6f9;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .card {
      background-color: white;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      padding: 30px;
      margin: 20px 0;
      width: 100%;
      max-width: 600px;
      text-align: center;
    }
    .btn {
      background-color: #007bff;
      border: none;
      color: white;
      padding: 10px 18px;
      margin: 10px 5px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
    }
    .btn:hover { background-color: #0056b3; }
    .timer-bar {
      height: 10px;
      background-color: #28a745;
      transition: width 1s linear;
    }
    #timer-container {
      width: 100%;
      background-color: #e9ecef;
      border-radius: 5px;
      overflow: hidden;
      margin: 10px 0;
    }
    .badge {
      font-size: 24px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<div class="card">
  <h2>üéØ Kuiz Arduino</h2>
  <button class="btn" onclick="startQuiz()">Mula Kuiz</button>
  <div id="question" style="margin-top: 15px;"></div>
  <div id="quiz-options"></div>

  <div id="timer-container" style="display:none;">
    <div id="timer-bar" class="timer-bar" style="width: 100%;"></div>
  </div>
  <div id="time-remaining"></div>

  <progress id="quizProgress" value="0" max="100"></progress>
  <div id="quiz-result" style="margin-top: 10px; font-weight: bold;"></div>
  <div id="quiz-badge" class="badge"></div>
</div>

<script>
  function startQuiz() {
    const questionDiv = document.getElementById("question");
    const optionsDiv = document.getElementById("quiz-options");
    const resultDiv = document.getElementById("quiz-result");
    const progressBar = document.getElementById("quizProgress");
    const badgeDiv = document.getElementById("quiz-badge");
    const timerBar = document.getElementById("timer-bar");
    const timerContainer = document.getElementById("timer-container");
    const timeRemainingText = document.getElementById("time-remaining");

    const questions = [
      { question: "Apakah itu Arduino?", options: ["Robot", "Sensor", "Mikropengawal", "Perisian"], answer: "Mikropengawal" },
      { question: "Arduino UNO menggunakan cip apa?", options: ["ATmega328P", "ESP32", "PIC16F877A", "ARM Cortex"], answer: "ATmega328P" },
      { question: "Apakah nama perisian rasmi untuk menulis kod Arduino?", options: ["Arduino Studio", "Arduino IDE", "CodeBlocks", "AVR Editor"], answer: "Arduino IDE" },
      { question: "Pin manakah digunakan untuk input analog pada Arduino UNO?", options: ["A0 - A5", "D0 - D13", "TX/RX", "VIN"], answer: "A0 - A5" },
      { question: "Fungsi 'delay(1000)' dalam kod Arduino akan menyebabkan?", options: ["Hentian selama 1 saat", "Pin dimatikan", "Sensor diaktifkan", "Data dihantar ke serial"], answer: "Hentian selama 1 saat" },
      { question: "Apakah maksud LED menyala berkelip pada Arduino?", options: ["Kod berjaya dimuat naik dan berjalan", "Arduino rosak", "Kabel putus", "Pin analog aktif"], answer: "Kod berjaya dimuat naik dan berjalan" }
    ];

    let current = 0, score = 0, timer, timeLeft = 10;

    function showQuestion() {
      clearInterval(timer);
      timeLeft = 10;
      timeRemainingText.innerText = "Masa tinggal: 10s";
      timerContainer.style.display = "block";
      timerBar.style.width = "100%";

      const q = questions[current];
      questionDiv.innerText = q.question;
      optionsDiv.innerHTML = "";
      resultDiv.innerText = "";
      badgeDiv.innerText = "";

      q.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "btn";
        btn.innerText = opt;
        btn.onclick = () => answerSelected(opt);
        optionsDiv.appendChild(btn);
      });

      timer = setInterval(() => {
        timeLeft--;
        timeRemainingText.innerText = `Masa tinggal: ${timeLeft}s`;
        timerBar.style.width = `${(timeLeft / 10) * 100}%`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          resultDiv.innerText = `‚è∞ Masa tamat! Jawapan betul: ${q.answer}`;
          current++;
          setTimeout(loadNext, 1000);
        }
      }, 1000);

      progressBar.value = (current / questions.length) * 100;
    }

    function answerSelected(selected) {
      clearInterval(timer);
      const correct = questions[current].answer;
      if (selected === correct) {
        score++;
        resultDiv.innerText = "‚úÖ Betul!";
      } else {
        resultDiv.innerText = `‚ùå Salah. Jawapan betul: ${correct}`;
      }
      current++;
      setTimeout(loadNext, 1000);
    }

    function loadNext() {
      if (current < questions.length) {
        showQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      resultDiv.innerText = `‚úÖ Tamat! Skor anda: ${score}/${questions.length}`;
      timerContainer.style.display = "none";
      timeRemainingText.innerText = "";
      progressBar.value = 100;
      optionsDiv.innerHTML = "";

      const restartBtn = document.createElement("button");
      restartBtn.className = "btn";
      restartBtn.innerText = "üîÅ Ulang Kuiz";
      restartBtn.onclick = startQuiz;
      optionsDiv.appendChild(restartBtn);

      // Papar lencana
      if (score === questions.length) badgeDiv.innerText = "ü•á Lencana Emas";
      else if (score >= 4) badgeDiv.innerText = "ü•à Lencana Perak";
      else if (score >= 2) badgeDiv.innerText = "ü•â Lencana Gangsa";
      else badgeDiv.innerText = "‚ùå Tiada lencana. Cuba lagi!";
    }

    showQuestion();
  }
</script>
</body>
</html>


